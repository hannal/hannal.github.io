<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on iPhones and stuff-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <link rel="icon" type="image/png" href="http://blog.hannal.com/favicon.ico" />
  <link rel="alternate" type="application/rss+xml" title="Kay on the rails RSS Feed" href="http://blog.hannal.coom/feed.xml" />
  <title>
    
      갑자기 방문수가 급증한 분들 참고하세요. &middot; Kay on the rails
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  <!-- Icons -->
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-33535239-1', 'auto');
  ga('send', 'pageview');

</script>
<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-KS9HDB"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KS9HDB');</script>
<!-- End Google Tag Manager -->
    <div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/ko_KR/sdk.js#xfbml=1&appId=308847979152210&version=v2.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>Kay as known as Hannal walks on the rails
</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    <a class="sidebar-nav-item" href="/category/essay/">한날의 낙서</a>
    <a class="sidebar-nav-item" href="/category/kay-on-the-team/">팀과 함께하는 한날</a>
    <a class="sidebar-nav-item" href="/category/start-with-django-lectures/">Django 입문자용 강좌</a>
    <a class="sidebar-nav-item" href="/category/start-with-django-webframework/">Django 중급자용 강좌</a>
    <a class="sidebar-nav-item" href="/category/flaskon-startup-diary/">플라스콘 창업 일지</a>
    <a class="sidebar-nav-item" href="/category/devlife/">개발 생활</a>
    <a class="sidebar-nav-item" href="/category/game/">게임 생활</a>
  </nav>

  <nav class="sidebar-nav" style="margin-top: 1.2em;">
    <a class="sidebar-nav-item" href="/profile/">소개합니다</a>
    <a class="sidebar-nav-item" href="/fingers/">손 끝에 맺힌 글</a>
    <a class="sidebar-nav-item" href="/copyright/">저작권</a>

    
    <span class="sidebar-nav-item">Alpha v</span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2015. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Kay on the rails</a>
            <small></small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">갑자기 방문수가 급증한 분들 참고하세요.</h1>
  <span class="post-date">26 Sep 2004</span>
  <p>내용 갱신 : 2004년 10월 <b><font color=#D41A01>21일</font></b>, 20시쯤 (내용이 계속 변경될 수 있으니 갱신일시를 확인해주십시오)</p>

<p>갱신 사항 :<br />
- 2004년 9월 26일 : 새로운 차단 ip 3개 추가함<br />
- 2004년 10월 10일 : 새로운 차단 ip 1개 추가함 (222.122.15.185)<br />
- 2004년 10월 18일 : 새로운 차단 ip 1개 추가함 (222.122.15.184)<br />
- 2004년 10월 21일 : 새로운 차단 ip 1개 추가함 (222.122.15.190 )</p>

<hr width="90%" size="1" />

<p>며칠 전부터(혹은 어제부터) 방문 횟수가 급증한 분들 계실 겁니다. 저는 어제부터 방문수(카운트)가 급증했습니다. Referer Log를 보니 외부의 링크를 통해 방문한 것이 아닌 직접 방문이더군요. 이상하다 싶어서 방문자의 IP를 기록했습니다. 그랬더니 흥미로운 결과가 나오더군요.</p>

<div style="padding:10;margin:10;background-color:#F0F0F0;">09-15, 11:59:22 222.122.15.186<br />
09-15, 11:59:36 222.122.15.186<br />
09-15, 11:59:51 222.122.15.186<br />
09-15, 12:00:06 222.122.15.187<br />
09-15, 12:00:21 222.122.15.187<br />
09-15, 12:00:42 222.122.15.187<br />
09-15, 12:00:54 222.122.15.186<br />
09-15, 12:01:07 222.122.15.186<br />
09-15, 12:01:13 ---.---.--.---<br />
09-15, 12:01:19 222.122.15.186<br />
09-15, 12:01:32 ---.---.--.---<br />
09-15, 12:01:35 222.122.15.186<br />
09-15, 12:01:51 222.122.15.187<br />
09-15, 12:02:04 222.122.15.186<br />
09-15, 12:02:19 222.122.15.186<br />
09-15, 12:02:34 222.122.15.187<br />
09-15, 12:02:52 222.122.15.187<br />
09-15, 12:03:06 222.122.15.187<br />
09-15, 12:03:25 222.122.15.187<br />
09-15, 12:03:37 222.122.15.186<br />
09-15, 12:03:52 222.122.15.186<br />
09-15, 12:04:09 222.122.15.187<br />
09-15, 12:04:22 222.122.15.186<br />
09-15, 12:04:32 ---.---.--.---<br />
09-15, 12:04:35 222.122.15.186<br />
09-15, 12:04:51 222.122.15.186<br />
09-15, 12:05:02 222.122.15.186<br />
09-15, 12:05:13 ---.---.--.---<br />
09-15, 12:05:15 ---.---.--.---<br />
09-15, 12:05:15 222.122.15.186<br />
09-15, 12:05:28 222.122.15.186<br />
09-15, 12:05:28 ---.---.--.---<br />
09-15, 12:05:42 222.122.15.186<br />
09-15, 12:05:59 222.122.15.187<br />
09-15, 12:06:15 222.122.15.186<br />
09-15, 12:06:31 222.122.15.186<br />
09-15, 12:06:49 222.122.15.187<br />
09-15, 12:06:49 ---.---.--.---<br />
09-15, 12:07:51 ---.---.--.---</div>

<p>위에서 09-15, XX:XX:XX 는 접속 일시이고, 그 뒤가 바로 방문 IP입니다. ---.---.--.--- 로 된 것은 프라이버시의 문제로 제가 임의로 가린 것입니다. 중요한 것은 222.122.15. 로 시작하는 IP지요. 보시다시피 몇 초 단위로 마구 접속을 하고 있습니다. 수상하지요? IP의 정보를 봅시다.</p>

<div style="padding:10;margin:10;background-color:#F0F0F0;">inetnum:      222.96.0.0 - 222.122.255.255<br />
netname:      <font color=#FF0000>KORNET</font><br />
descr:        <font color=#FF0000>KOREA TELECOM</font><br />
descr:        Network Management Center<br />
country:      KR<br />
admin-c:      DL248-AP<br />
tech-c:       GK40-AP<br />
descr:        ************************************************<br />
descr:        Allocated to KRNIC Member.<br />
descr:        If you would like to find assignment<br />
descr:        information in detail please refer to<br />
descr:        the KRNIC Whois Database at:<br />
descr:        "http://whois.nic.or.kr/english/index.html"<br />
descr:        ************************************************<br />
status:       Allocated Portable<br />
mnt-by:       MNT-KRNIC-AP<br />
changed:      hm-changed@apnic.net 20031027<br />
source:       APNIC</div>

<p>빨간색 부분을 잘보면 눈에 익은 단어임을 알 수 있습니다. 코넷. 코리아 텔레콤. 즉 KT(옛 한국통신)이지요.</p>

<p><s>결론부터 말씀드리자면 KT에서 접속 로봇을 돌리고 있는 것으로 보이는 것입니다. KT에서 로봇을 돌리는 이유는 알 수 없습니다. 파란닷컴의 검색 Cache를 하기 위함인지, 아니면 불순한 사이트를 필터링하려고 로봇을 돌려서 웹 페이지 수집을 하는지는 알 수 없습니다. 분명한 것은 KT측에서 무단으로 로봇을 돌리고 있다는 것이지요.</s>KT IDC를 이용하는 어떤 업체에서 무단으로 로봇을 돌리고 있다고 의심됩니다.</p>

<p>태터툴즈 이용하시는 분이나 php로 된 사이트를 운영하시는 분은 해당 php 파일 제일 상단에 아래의 코드를 넣으면 더이상 방문 수는 폭주하지 않습니다. 소스가 16일자로 변경되었으니 참고하세요.</p>

<div style="padding:10;margin:10;background-color:#F0F0F0;"><font color=#D41A01><b>$anti_ip[] = "222.122.15.181";<br />
$anti_ip[] = "222.122.15.182";<br />
$anti_ip[] = "222.122.15.183";<br />
$anti_ip[] = "222.122.15.184";<br />
$anti_ip[] = "222.122.15.185";<br />
$anti_ip[] = "222.122.15.186";<br />
$anti_ip[] = "222.122.15.187";<br />
$anti_ip[] = "222.122.15.190";</b></font></p>
<p><font color=#D41A01>/* 184 부분이 2004년 10월 18일에 새로 추가된 부분입니다 */</font></p>
<p>for($i=0;$i&lt;count($anti_ip);$i++)<br />
{<br />
  if ( substr_count($_SERVER["REMOTE_ADDR"], $anti_ip[$i])  &gt; 0 ) {<br />
    exit;<br />
}<br />
}</p></div>

<p>태터툴즈 이용자라면 index.php 의 제일 상단에 있는 &lt? 바로 아래에 넣으면 됩니다. 만일 차단할 ip가 있다면</p>

<div style="padding:10;margin:10;background-color:#F0F0F0;">$anti_ip[] = "차단할ip";</div>

<p>형태로 추가하시면 됩니다. 즉 $anti_ip[] 이 줄이 여러 개가 될 수 있겠지요. 특정 범위 내, 예를 들어 222.122.15. 으로 시작하는 ip를 차단하고 싶다면 222.122.15. 라고만 적으면 됩니다. <b>2004년 9월 16일 오전 10시 기준으로 잘 작동합니다. 이전 코드는 문제가 있었던 듯 싶군요.</b></p>

<p>덧쓰기 : IP 정보 알아봐준 아자군에게 감사~ 빠른 녀석.</p>

<p>덧쓰기 2 : 꼭 KT쪽 애들의 장난질(?)이 아닐 수도 있습니다. 다만 발생하고 있는 현상들을 들여다보니 KT의 소행으로 의심될 뿐입니다. 단지 KT 회선을 쓰는 개인이 하는 짓일수도 있으니, 혹여나 KT가 이짓했다! 라고 성급한 외침을 하시면 제가 난감합니다. 무서워요. 히히. 한날은 가난한 소시민.</p>

<p>덧쓰기 3 : 방문자 아이피가 궁금한 이는 다음의 코드를 php 파일 제일 상단에 넣으면 됩니다. (물론 &lt? 아래여야하고)</p>

<div style="padding:10;margin:10;background-color:#F0F0F0;">$fp = fopen("client_ip_log.txt", "a+");<br />
fputs($fp, date("m-d, H:i:s", time())." ".$_SERVER["REMOTE_ADDR"]."n");<br />
fclose($fp);</div>

<p>그런 뒤 해당 php와 같은 디렉토리에 client_ip_log.txt 파일을 생성한 뒤 쓰기 권한을 주십시오. chmod 707 client_ip_log.txt 형태로 하면 되겠지요. 물론 파일명은 취향대로 하시고요. 이제 방문자의 ip가 기록됩니다. 웹상에서 보시건 다운받아서 보시건 하세요. 참고로 <font color=#D41A01><b>웹 호스팅 업체가 싫어할</b></font> php code입니다. 남용하지 마세요.</p>

<p>덧쓰기 4 : Gratia님의 의견에 따르면 새로 서비스를 준비構?있는 업체의 <b>짓거리</b>로 보이는군요. KT-idc에 상주한 웹호스팅 업체를 이용하는 어떤 개인이나 업체의 짓거리로 추정됩니다. <a href="http://blog.hannal.com/index.php?pl=476&nc=1#r2044">Gratia님의 의견</a> 참고.</p>

</div>

<a href="https://twitter.com/share" class="twitter-share-button" data-via="hannal">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<div class="fb-like" data-href="http://blog.hannal.com/2004/9/476/" data-layout="standard" data-action="like" data-show-faces="true" data-share="true"></div>

<div class="comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'hannal';
  var disqus_url = 'http://blog.hannal.com/2004/9/476/';

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2015/04/start_with_django_webframework_06/">
            6. Django 정적 파일 기능 이해하기
            <small>27 Apr 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2015/04/kill-once_upon_a_time/">
            예전엔 말이야
            <small>05 Apr 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2015/03/keyword-only-arguments_and_annotations_for_python3/">
            Python 3에서 함수의 키워드 인자 강제와 주석문
            <small>22 Mar 2015</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
